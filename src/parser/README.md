# Парсинг данных о продуктах с сайта Вкусвилла.

Объект Product содержит данные о товаре: ссылку и название, цену в рублях, вес, калорийность и БЖУ на 100 грамм, срок годности и температурные условия хранения. Также включены основные категориальные данные — главная категория и полный путь категорий, бренд, страна происхождения и производитель. Дополнительно передаются рейтинг с количеством оценок, состав, любые теги и путь к файлу изображения товара.

Примеры использования 

Парсинг данных

cd src/parser/
python main.py --target-links 1  --download-images 




## Основные файлы

**typing_and_export.py** - Переводим данные в .json , .arff

**preprocess.py** - Предобработка данных - one-hot encoding, normalizing data.

**main.py** - Запуск парсера. 
С флагами 
-    --target-links <N> : Сколько ссылок спарсить 
-    --no-skip-existing : Если включить, то будем парсить, то что уже спарсили когда-то
-    --download-images : Загружать ли изображения  **(Стоит по умолчанию)**

## Вспомогательные папки

Папка - settings 
- constants.py - Основные константы, также ссылка на категорию, которую парсим
- logging_setup.py - Настройка логгирования.
- paths.py - Настройка путей в проекте 
- proxy.py - Настройка прокси - для более надежного, быстрого парсинга данных


Папка - parsers
- helpers.py - вспомогательные функции.
- links.py - Сбор ссылок на продукты с основной страницы.
- product.py - Парсинг страницы с продуктом.

# Что надо знать при использовании

- В папке data - в корне проекта, надо расположить файл proxies.txt и в формате (socks5h://логин:пароль@IP_адрес:порт) в каждой строке.

- Если ваша задача парсить не раздел "Готовой еды", а что-то другое, то в папке settings/constants.py можете изменить переменную BASE_CATEGORY_URL

- В качестве рейтинга - парсится общий рейтинг. То есть производителей может быть у товара - несколько, и у каждого свой рейтинг, но в данном парсере - берется общий рейтинг на всех производителей на один товар.